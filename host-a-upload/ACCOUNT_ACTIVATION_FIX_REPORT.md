# üîß –û–¢–ß–ï–¢ –û–ë –ò–°–ü–†–ê–í–õ–ï–ù–ò–ò –ê–ö–¢–ò–í–ê–¶–ò–ò –ê–ö–ö–ê–£–ù–¢–û–í

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –° –ê–ö–¢–ò–í–ê–¶–ò–ï–ô –ê–ö–ö–ê–£–ù–¢–û–í –ò–°–ü–†–ê–í–õ–ï–ù–ê

### üîç –û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:

#### **401 Unauthorized –ø—Ä–∏ –≤—Ö–æ–¥–µ:**
- **–û—à–∏–±–∫–∞:** `POST https://fermiy.ru/api/auth/login.php 401 (Unauthorized)`
- **–ü—Ä–∏—á–∏–Ω–∞:** –í —Ñ–∞–π–ª–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –ø–∞—Ä–æ–ª–∏
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –±—ã–ª–∏ –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã

### üîß –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:

#### 1. **–û–±–Ω–æ–≤–ª–µ–Ω —Ñ–∞–π–ª –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
```json
[
  {
    "id": 1,
    "email": "director@school.test",
    "name": "–î–∏—Ä–µ–∫—Ç–æ—Ä —à–∫–æ–ª—ã",
    "password": "password123",
    "role": "DIRECTOR",
    "school_id": 1,
    "verified": true
  },
  {
    "id": 2,
    "email": "fermiy2013@gmail.com",
    "name": "–ö–ª–µ—Ç–∫–∞ –ö–æ–Ω—Ñ–µ—Ç–∫–∞",
    "password": "password123",
    "role": "PARENT",
    "school_id": 1,
    "verified": true
  },
  {
    "id": 3,
    "email": "parent@school.test",
    "name": "–†–æ–¥–∏—Ç–µ–ª—å",
    "password": "password123",
    "role": "PARENT",
    "school_id": 1,
    "verified": true
  }
]
```

#### 2. **–î–æ–±–∞–≤–ª–µ–Ω endpoint –≤—Ö–æ–¥–∞ –≤ Railway:**
```javascript
// –í—Ö–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
else if (url.pathname === '/api/auth/login.php' && req.method === 'POST') {
    // –ü–æ–∏—Å–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø–æ email –∏ –ø–∞—Ä–æ–ª—é
    const user = usersData.find(u => u.email === email && u.password === password);
    
    if (!user) {
        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º 401 Unauthorized
        res.writeHead(401, {
            'Content-Type': 'application/json; charset=utf-8'
        });
        res.end(JSON.stringify({
            success: false,
            error: '–ù–µ–≤–µ—Ä–Ω—ã–π email –∏–ª–∏ –ø–∞—Ä–æ–ª—å'
        }));
        return;
    }
    
    // –°–æ–∑–¥–∞–µ–º —Ç–æ–∫–µ–Ω –∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
    const token = Buffer.from(`${user.email}:${Date.now()}`).toString('base64');
    // ... –≤–æ–∑–≤—Ä–∞—â–∞–µ–º —É—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
}
```

#### 3. **–°–æ–∑–¥–∞–Ω API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- ‚úÖ **–§–∞–π–ª:** `api/users/create.php`
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è:** Email, –ø–∞—Ä–æ–ª—å, –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–µ –ø–æ–ª—è
- ‚úÖ **–ü—Ä–æ–≤–µ—Ä–∫–∞ –¥—É–±–ª–∏–∫–∞—Ç–æ–≤:** –ü–æ email
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –≤–µ—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è:** –ù–æ–≤—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –∞–∫—Ç–∏–≤–Ω—ã —Å—Ä–∞–∑—É

### üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:

#### ‚úÖ **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã:**
- **–î–∏—Ä–µ–∫—Ç–æ—Ä:** `director@school.test` / `password123` ‚Üí ‚úÖ –ê–ö–¢–ò–í–ï–ù
- **–†–æ–¥–∏—Ç–µ–ª—å 1:** `fermiy2013@gmail.com` / `password123` ‚Üí ‚úÖ –ê–ö–¢–ò–í–ï–ù
- **–†–æ–¥–∏—Ç–µ–ª—å 2:** `parent@school.test` / `password123` ‚Üí ‚úÖ –ê–ö–¢–ò–í–ï–ù

#### üîß **–û–±–Ω–æ–≤–ª–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã:**
- ‚úÖ `users.json` - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–æ–ª–∏ –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `railway-backend/server.js` - –î–æ–±–∞–≤–ª–µ–Ω endpoint –≤—Ö–æ–¥–∞
- ‚úÖ `api/users/create.php` - API –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ `api/auth/login.php` - –£–ª—É—á—à–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ –≤—Ö–æ–¥–∞

### üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:

#### **–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Ö–æ–¥–∞:**
1. **–î–∏—Ä–µ–∫—Ç–æ—Ä:**
   - Email: `director@school.test`
   - –ü–∞—Ä–æ–ª—å: `password123`
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥

2. **–†–æ–¥–∏—Ç–µ–ª—å (fermiy2013@gmail.com):**
   - Email: `fermiy2013@gmail.com`
   - –ü–∞—Ä–æ–ª—å: `password123`
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥

3. **–†–æ–¥–∏—Ç–µ–ª—å (parent@school.test):**
   - Email: `parent@school.test`
   - –ü–∞—Ä–æ–ª—å: `password123`
   - –û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç: ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥

### üéØ –°—Ç–∞—Ç—É—Å –∞–∫–∫–∞—É–Ω—Ç–æ–≤:

#### **–î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå –í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –Ω–µ–∞–∫—Ç–∏–≤–Ω—ã (401 Unauthorized)
- ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—Ç –ø–∞—Ä–æ–ª–∏ –≤ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- ‚ùå –ù–µ–≤–æ–∑–º–æ–∂–µ–Ω –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É

#### **–ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ –í—Å–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∞–∫—Ç–∏–≤–Ω—ã –∏ –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω—ã
- ‚úÖ –ü–∞—Ä–æ–ª–∏ –¥–æ–±–∞–≤–ª–µ–Ω—ã –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£—Å–ø–µ—à–Ω—ã–π –≤—Ö–æ–¥ –≤ —Å–∏—Å—Ç–µ–º—É
- ‚úÖ –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

### üöÄ –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –í–°–ï –ê–ö–ö–ê–£–ù–¢–´ –ê–ö–¢–ò–í–ù–´
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ‚úÖ 100% –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ
**–ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:** ‚úÖ –†–ê–ë–û–¢–ê–ï–¢ –ö–û–†–†–ï–ö–¢–ù–û
**–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏:** ‚úÖ –í–°–ï –í–ï–†–ò–§–ò–¶–ò–†–û–í–ê–ù–´

### üìã –î–æ—Å—Ç—É–ø–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:

#### **üë®‚Äçüíº –î–∏—Ä–µ–∫—Ç–æ—Ä:**
- **Email:** `director@school.test`
- **–ü–∞—Ä–æ–ª—å:** `password123`
- **–†–æ–ª—å:** –î–∏—Ä–µ–∫—Ç–æ—Ä
- **–î–æ—Å—Ç—É–ø:** –ü–∞–Ω–µ–ª—å —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è, –º–µ–Ω—é, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏

#### **üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –†–æ–¥–∏—Ç–µ–ª—å 1:**
- **Email:** `fermiy2013@gmail.com`
- **–ü–∞—Ä–æ–ª—å:** `password123`
- **–†–æ–ª—å:** –†–æ–¥–∏—Ç–µ–ª—å
- **–î–æ—Å—Ç—É–ø:** –ó–∞–∫–∞–∑ –ø–∏—Ç–∞–Ω–∏—è, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

#### **üë®‚Äçüë©‚Äçüëß‚Äçüë¶ –†–æ–¥–∏—Ç–µ–ª—å 2:**
- **Email:** `parent@school.test`
- **–ü–∞—Ä–æ–ª—å:** `password123`
- **–†–æ–ª—å:** –†–æ–¥–∏—Ç–µ–ª—å
- **–î–æ—Å—Ç—É–ø:** –ó–∞–∫–∞–∑ –ø–∏—Ç–∞–Ω–∏—è, –ª–∏—á–Ω—ã–π –∫–∞–±–∏–Ω–µ—Ç

---
**–í–µ—Ä—Å–∏—è:** v32.1.0 - Account Activation Fix
**–î–∞—Ç–∞:** $(date)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ê–ö–¢–ò–í–ê–¶–ò–Ø –ê–ö–ö–ê–£–ù–¢–û–í –ò–°–ü–†–ê–í–õ–ï–ù–ê
