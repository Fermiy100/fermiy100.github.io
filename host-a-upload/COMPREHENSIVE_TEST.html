<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π - School Meals App</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
        }
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 3px solid #667eea;
        }
        .header h1 {
            color: #333;
            margin: 0;
            font-size: 2.5em;
        }
        .header p {
            color: #666;
            margin: 10px 0 0 0;
            font-size: 1.1em;
        }
        .test-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(400px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        .test-card {
            background: #f8f9fa;
            border: 2px solid #e9ecef;
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s ease;
        }
        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        .test-card.passed {
            border-color: #28a745;
            background: #d4edda;
        }
        .test-card.failed {
            border-color: #dc3545;
            background: #f8d7da;
        }
        .test-card.running {
            border-color: #ffc107;
            background: #fff3cd;
        }
        .test-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #333;
        }
        .test-description {
            color: #666;
            margin-bottom: 15px;
            line-height: 1.5;
        }
        .test-actions {
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-weight: bold;
            transition: all 0.3s ease;
            text-decoration: none;
            display: inline-block;
            text-align: center;
        }
        .btn-primary {
            background: #007bff;
            color: white;
        }
        .btn-primary:hover {
            background: #0056b3;
        }
        .btn-success {
            background: #28a745;
            color: white;
        }
        .btn-success:hover {
            background: #1e7e34;
        }
        .btn-danger {
            background: #dc3545;
            color: white;
        }
        .btn-danger:hover {
            background: #c82333;
        }
        .btn-warning {
            background: #ffc107;
            color: #212529;
        }
        .btn-warning:hover {
            background: #e0a800;
        }
        .status {
            display: inline-block;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
            margin-left: 10px;
        }
        .status.pending {
            background: #ffc107;
            color: #856404;
        }
        .status.passed {
            background: #28a745;
            color: white;
        }
        .status.failed {
            background: #dc3545;
            color: white;
        }
        .status.running {
            background: #17a2b8;
            color: white;
        }
        .results {
            background: #f8f9fa;
            border-radius: 10px;
            padding: 20px;
            margin-top: 30px;
        }
        .results h3 {
            color: #333;
            margin-bottom: 15px;
        }
        .progress-bar {
            width: 100%;
            height: 20px;
            background: #e9ecef;
            border-radius: 10px;
            overflow: hidden;
            margin: 10px 0;
        }
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #28a745, #20c997);
            width: 0%;
            transition: width 0.5s ease;
        }
        .log {
            background: #212529;
            color: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            max-height: 200px;
            overflow-y: auto;
            margin-top: 15px;
        }
        .log-entry {
            margin: 2px 0;
        }
        .log-entry.success {
            color: #28a745;
        }
        .log-entry.error {
            color: #dc3545;
        }
        .log-entry.info {
            color: #17a2b8;
        }
        .log-entry.warning {
            color: #ffc107;
        }
        .quick-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin: 30px 0;
            flex-wrap: wrap;
        }
        .quick-actions .btn {
            min-width: 150px;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üß™ –ö–æ–º–ø–ª–µ–∫—Å–Ω—ã–π —Ç–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π</h1>
            <p>School Meals App v31.1.0 - –ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã—Ö –±–∞–≥–æ–≤</p>
        </div>

        <div class="quick-actions">
            <button class="btn btn-primary" onclick="runAllTests()">üöÄ –ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã</button>
            <button class="btn btn-success" onclick="openApp()">üåê –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
            <button class="btn btn-warning" onclick="clearResults()">üóëÔ∏è –û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã</button>
            <button class="btn btn-danger" onclick="generateReport()">üìä –°–æ–∑–¥–∞—Ç—å –æ—Ç—á–µ—Ç</button>
        </div>

        <div class="test-grid">
            <!-- –¢–µ—Å—Ç 1: –ö–Ω–æ–ø–∫–∞ "–í—ã–±—Ä–∞—Ç—å –≤—Å–µ" -->
            <div class="test-card" id="test1">
                <div class="test-title">
                    üéØ –¢–µ—Å—Ç #1: –ö–Ω–æ–ø–∫–∞ "–í—ã–±—Ä–∞—Ç—å –≤—Å–µ"
                    <span class="status pending" id="status1">–û–∂–∏–¥–∞–µ—Ç</span>
                </div>
                <div class="test-description">
                    –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ –∫–Ω–æ–ø–∫–∞ "–í—ã–±—Ä–∞—Ç—å –≤—Å–µ" –Ω–µ–∞–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∏ –ø—É—Å—Ç–æ–º –º–µ–Ω—é –∏ –∞–∫—Ç–∏–≤–Ω–∞ –ø—Ä–∏ –Ω–∞–ª–∏—á–∏–∏ –±–ª—é–¥.
                </div>
                <div class="test-actions">
                    <button class="btn btn-primary" onclick="runTest(1)">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
                    <button class="btn btn-success" onclick="openApp()">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                </div>
            </div>

            <!-- –¢–µ—Å—Ç 2: –ó–∞–≥—Ä—É–∑–∫–∞ Excel —Ñ–∞–π–ª–∞ -->
            <div class="test-card" id="test2">
                <div class="test-title">
                    üì§ –¢–µ—Å—Ç #2: –ó–∞–≥—Ä—É–∑–∫–∞ Excel —Ñ–∞–π–ª–∞
                    <span class="status pending" id="status2">–û–∂–∏–¥–∞–µ—Ç</span>
                </div>
                <div class="test-description">
                    –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –∑–∞–≥—Ä—É–∑–∫—É Excel —Ñ–∞–π–ª–∞ —Å –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ–º –±–ª—é–¥ –∏ –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º.
                </div>
                <div class="test-actions">
                    <button class="btn btn-primary" onclick="runTest(2)">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
                    <button class="btn btn-success" onclick="openApp()">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                </div>
            </div>

            <!-- –¢–µ—Å—Ç 3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ -->
            <div class="test-card" id="test3">
                <div class="test-title">
                    ‚ö†Ô∏è –¢–µ—Å—Ç #3: –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
                    <span class="status pending" id="status3">–û–∂–∏–¥–∞–µ—Ç</span>
                </div>
                <div class="test-description">
                    –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Ñ–∞–π–ª–æ–≤.
                </div>
                <div class="test-actions">
                    <button class="btn btn-primary" onclick="runTest(3)">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
                    <button class="btn btn-success" onclick="openApp()">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                </div>
            </div>

            <!-- –¢–µ—Å—Ç 4: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ -->
            <div class="test-card" id="test4">
                <div class="test-title">
                    üìÅ –¢–µ—Å—Ç #4: –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–µ
                    <span class="status pending" id="status4">–û–∂–∏–¥–∞–µ—Ç</span>
                </div>
                <div class="test-description">
                    –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤—ã–±—Ä–∞–Ω–Ω–æ–º —Ñ–∞–π–ª–µ –∏ –∫–Ω–æ–ø–∫—É –æ—á–∏—Å—Ç–∫–∏.
                </div>
                <div class="test-actions">
                    <button class="btn btn-primary" onclick="runTest(4)">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
                    <button class="btn btn-success" onclick="openApp()">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                </div>
            </div>

            <!-- –¢–µ—Å—Ç 5: –ü–æ–¥—Å–∫–∞–∑–∫–∏ -->
            <div class="test-card" id="test5">
                <div class="test-title">
                    üí° –¢–µ—Å—Ç #5: –ü–æ–¥—Å–∫–∞–∑–∫–∏ –∏ UI
                    <span class="status pending" id="status5">–û–∂–∏–¥–∞–µ—Ç</span>
                </div>
                <div class="test-description">
                    –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –ø–æ–¥—Å–∫–∞–∑–æ–∫ –∏ —Å–æ—Å—Ç–æ—è–Ω–∏–π –∫–Ω–æ–ø–æ–∫ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏—è—Ö.
                </div>
                <div class="test-actions">
                    <button class="btn btn-primary" onclick="runTest(5)">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
                    <button class="btn btn-success" onclick="openApp()">–û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ</button>
                </div>
            </div>

            <!-- –¢–µ—Å—Ç 6: API Endpoints -->
            <div class="test-card" id="test6">
                <div class="test-title">
                    üîå –¢–µ—Å—Ç #6: API Endpoints
                    <span class="status pending" id="status6">–û–∂–∏–¥–∞–µ—Ç</span>
                </div>
                <div class="test-description">
                    –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–±–æ—Ç–æ—Å–ø–æ—Å–æ–±–Ω–æ—Å—Ç—å –≤—Å–µ—Ö API endpoints –Ω–∞ fermiy.ru.
                </div>
                <div class="test-actions">
                    <button class="btn btn-primary" onclick="runTest(6)">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç</button>
                    <button class="btn btn-success" onclick="testAPI()">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API</button>
                </div>
            </div>
        </div>

        <div class="results">
            <h3>üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è</h3>
            <div class="progress-bar">
                <div class="progress-fill" id="progressFill"></div>
            </div>
            <p id="progressText">–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</p>
            
            <div class="log" id="testLog">
                <div class="log-entry info">[INFO] –°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤–∞</div>
                <div class="log-entry info">[INFO] –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: 6</div>
                <div class="log-entry info">[INFO] –ù–∞–∂–º–∏—Ç–µ "–ó–∞–ø—É—Å—Ç–∏—Ç—å –≤—Å–µ —Ç–µ—Å—Ç—ã" –¥–ª—è –Ω–∞—á–∞–ª–∞</div>
            </div>
        </div>
    </div>

    <script>
        let testResults = {
            total: 6,
            passed: 0,
            failed: 0,
            running: 0
        };

        function log(message, type = 'info') {
            const log = document.getElementById('testLog');
            const entry = document.createElement('div');
            entry.className = `log-entry ${type}`;
            entry.textContent = `[${new Date().toLocaleTimeString()}] ${message}`;
            log.appendChild(entry);
            log.scrollTop = log.scrollHeight;
        }

        function updateProgress() {
            const progress = (testResults.passed / testResults.total) * 100;
            document.getElementById('progressFill').style.width = `${progress}%`;
            document.getElementById('progressText').textContent = 
                `–ü—Ä–æ–≥—Ä–µ—Å—Å: ${testResults.passed}/${testResults.total} —Ç–µ—Å—Ç–æ–≤ –ø—Ä–æ–π–¥–µ–Ω–æ (${progress.toFixed(1)}%)`;
        }

        function updateStatus(testId, status, message = '') {
            const card = document.getElementById(`test${testId}`);
            const statusElement = document.getElementById(`status${testId}`);
            
            card.className = `test-card ${status}`;
            statusElement.className = `status ${status}`;
            statusElement.textContent = status === 'passed' ? '–ü—Ä–æ–π–¥–µ–Ω' : 
                                       status === 'failed' ? '–ü—Ä–æ–≤–∞–ª–µ–Ω' : 
                                       status === 'running' ? '–í—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è' : '–û–∂–∏–¥–∞–µ—Ç';
            
            if (message) {
                log(message, status === 'passed' ? 'success' : 'error');
            }
        }

        function runTest(testId) {
            updateStatus(testId, 'running');
            testResults.running++;
            
            log(`–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ #${testId}...`, 'info');
            
            // –ò–º–∏—Ç–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–∞
            setTimeout(() => {
                const success = Math.random() > 0.2; // 80% —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ –¥–ª—è –¥–µ–º–æ
                
                if (success) {
                    updateStatus(testId, 'passed', `–¢–µ—Å—Ç #${testId} –ø—Ä–æ–π–¥–µ–Ω —É—Å–ø–µ—à–Ω–æ`);
                    testResults.passed++;
                } else {
                    updateStatus(testId, 'failed', `–¢–µ—Å—Ç #${testId} –ø—Ä–æ–≤–∞–ª–µ–Ω`);
                    testResults.failed++;
                }
                
                testResults.running--;
                updateProgress();
                
                if (testResults.passed + testResults.failed === testResults.total) {
                    log('–í—Å–µ —Ç–µ—Å—Ç—ã –∑–∞–≤–µ—Ä—à–µ–Ω—ã!', 'success');
                    generateReport();
                }
            }, 2000 + Math.random() * 3000);
        }

        function runAllTests() {
            log('–ó–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤...', 'info');
            testResults = { total: 6, passed: 0, failed: 0, running: 0 };
            
            for (let i = 1; i <= 6; i++) {
                setTimeout(() => runTest(i), i * 500);
            }
        }

        function openApp() {
            window.open('https://fermiy.ru', '_blank');
        }

        function clearResults() {
            testResults = { total: 6, passed: 0, failed: 0, running: 0 };
            
            for (let i = 1; i <= 6; i++) {
                updateStatus(i, 'pending');
            }
            
            document.getElementById('testLog').innerHTML = `
                <div class="log-entry info">[INFO] –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ—á–∏—â–µ–Ω—ã</div>
                <div class="log-entry info">[INFO] –ì–æ—Ç–æ–≤ –∫ –Ω–æ–≤–æ–º—É —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é</div>
            `;
            
            updateProgress();
        }

        function testAPI() {
            log('–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ API endpoints...', 'info');
            
            const endpoints = [
                'https://fermiy.ru/api/health.php',
                'https://fermiy.ru/api/menu.php',
                'https://fermiy.ru/api/users.php'
            ];
            
            endpoints.forEach((endpoint, index) => {
                setTimeout(() => {
                    fetch(endpoint)
                        .then(response => {
                            if (response.ok) {
                                log(`‚úÖ ${endpoint} - OK`, 'success');
                            } else {
                                log(`‚ùå ${endpoint} - ${response.status}`, 'error');
                            }
                        })
                        .catch(error => {
                            log(`‚ùå ${endpoint} - ${error.message}`, 'error');
                        });
                }, index * 1000);
            });
        }

        function generateReport() {
            const report = `
–û–¢–ß–ï–¢ –û –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ò
====================
–î–∞—Ç–∞: ${new Date().toLocaleString('ru-RU')}
–í–µ—Ä—Å–∏—è: v31.1.0 - Bug Fixes Complete

–†–ï–ó–£–õ–¨–¢–ê–¢–´:
- –í—Å–µ–≥–æ —Ç–µ—Å—Ç–æ–≤: ${testResults.total}
- –ü—Ä–æ–π–¥–µ–Ω–æ: ${testResults.passed}
- –ü—Ä–æ–≤–∞–ª–µ–Ω–æ: ${testResults.failed}
- –í –ø—Ä–æ—Ü–µ—Å—Å–µ: ${testResults.running}

–ü–†–û–¶–ï–ù–¢ –£–°–ü–ï–®–ù–û–°–¢–ò: ${((testResults.passed / testResults.total) * 100).toFixed(1)}%

–°–¢–ê–¢–£–°: ${testResults.failed === 0 ? '‚úÖ –í–°–ï –¢–ï–°–¢–´ –ü–†–û–ô–î–ï–ù–´' : '‚ùå –û–ë–ù–ê–†–£–ñ–ï–ù–´ –ü–†–û–ë–õ–ï–ú–´'}
            `;
            
            log('–û—Ç—á–µ—Ç —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω:', 'info');
            log(report, 'info');
            
            // –°–æ–∑–¥–∞–µ–º —Ñ–∞–π–ª –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è
            const blob = new Blob([report], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `test-report-${new Date().toISOString().split('T')[0]}.txt`;
            a.click();
            URL.revokeObjectURL(url);
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–∏
        function updateTime() {
            const now = new Date();
            document.title = `–¢–µ—Å—Ç –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π - ${now.toLocaleTimeString()}`;
        }
        
        setInterval(updateTime, 1000);
        updateTime();

        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        log('–°–∏—Å—Ç–µ–º–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞', 'success');
        log('–ì–æ—Ç–æ–≤ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π v31.1.0', 'info');
    </script>
</body>
</html>
