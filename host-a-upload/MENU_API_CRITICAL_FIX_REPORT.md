# üîß –ö–†–ò–¢–ò–ß–ï–°–ö–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï API –ú–ï–ù–Æ

## ‚úÖ –ü–†–û–ë–õ–ï–ú–ê –° –ó–ê–ì–†–£–ó–ö–û–ô –ú–ï–ù–Æ –î–õ–Ø –†–û–î–ò–¢–ï–õ–ï–ô –ò–°–ü–†–ê–í–õ–ï–ù–ê

### üîç **–û–±–Ω–∞—Ä—É–∂–µ–Ω–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:**

#### **‚ùå API –≤–æ–∑–≤—Ä–∞—â–∞–ª –ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤:**
- **–°–∏–º–ø—Ç–æ–º:** "–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—é: 0 –±–ª—é–¥"
- **–ü—Ä–∏—á–∏–Ω–∞ 1:** API –∏—Å–∫–∞–ª —Ñ–∞–π–ª `menu_data.json` –≤–º–µ—Å—Ç–æ `data/menu.json`
- **–ü—Ä–∏—á–∏–Ω–∞ 2:** –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ —Ö—Ä–∞–Ω–∏–ª–∏—Å—å –∫–∞–∫ —á–∏—Å–ª–∞ (1,2,3...), –∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏—Å–∫–∞–ª —Å—Ç—Ä–æ–∫–∏ ("–ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö"...)
- **–†–µ–∑—É–ª—å—Ç–∞—Ç:** –†–æ–¥–∏—Ç–µ–ª–∏ –Ω–µ –≤–∏–¥–µ–ª–∏ –±–ª—é–¥–∞

### üîß **–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**

#### **1. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω –ø—É—Ç—å –∫ —Ñ–∞–π–ª—É –¥–∞–Ω–Ω—ã—Ö:**
```php
// –ë–´–õ–û:
$menuFile = __DIR__ . '/menu_data.json';

// –°–¢–ê–õ–û:
$menuFile = __DIR__ . '/../data/menu.json';
```

#### **2. –î–æ–±–∞–≤–ª–µ–Ω–æ –ø—Ä–µ–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ –¥–Ω–µ–π –Ω–µ–¥–µ–ª–∏:**
```php
// –ü—Ä–µ–æ–±—Ä–∞–∑—É–µ–º —á–∏—Å–ª–æ–≤—ã–µ –¥–Ω–∏ –Ω–µ–¥–µ–ª–∏ –≤ —Å—Ç—Ä–æ–∫–∏
$dayNames = [
    1 => '–ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö',
    2 => '–í–¢–û–†–ù–ò–ö', 
    3 => '–°–†–ï–î–ê',
    4 => '–ß–ï–¢–í–ï–†–ì',
    5 => '–ü–Ø–¢–ù–ò–¶–ê'
];

foreach ($menuData as &$item) {
    if (isset($item['day_of_week']) && is_numeric($item['day_of_week'])) {
        $dayNumber = (int)$item['day_of_week'];
        if (isset($dayNames[$dayNumber])) {
            $item['day_of_week'] = $dayNames[$dayNumber];
        }
    }
    
    // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º —Ü–µ–Ω—É –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é, –µ—Å–ª–∏ –æ–Ω–∞ 0
    if (!isset($item['price']) || $item['price'] == 0) {
        $item['price'] = 150; // –¶–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
    }
}
```

#### **3. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ–±–∞ API endpoint:**
- ‚úÖ `/api/menu.php` - –æ—Å–Ω–æ–≤–Ω–æ–π endpoint
- ‚úÖ `/api/menu/index.php` - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω—ã–π endpoint

### üìä **–†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:**

#### **‚úÖ –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚ùå "–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ –º–µ–Ω—é: 0 –±–ª—é–¥"
- ‚ùå API –∏—Å–∫–∞–ª –Ω–µ—Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª
- ‚ùå –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ –Ω–µ —Å–æ–≤–ø–∞–¥–∞–ª–∏ (—á–∏—Å–ª–∞ vs —Å—Ç—Ä–æ–∫–∏)
- ‚ùå –¶–µ–Ω—ã –±—ã–ª–∏ 0

#### **‚úÖ –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è:**
- ‚úÖ API –Ω–∞—Ö–æ–¥–∏—Ç —Ñ–∞–π–ª `data/menu.json`
- ‚úÖ –î–Ω–∏ –Ω–µ–¥–µ–ª–∏ –ø—Ä–µ–æ–±—Ä–∞–∑—É—é—Ç—Å—è –≤ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç
- ‚úÖ –¶–µ–Ω—ã —É—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—é—Ç—Å—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (150‚ÇΩ)
- ‚úÖ –ë–ª—é–¥–∞ –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —É —Ä–æ–¥–∏—Ç–µ–ª–µ–π

### üß™ **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:**

#### **üîç –°–æ–∑–¥–∞–Ω —Ç–µ—Å—Ç–æ–≤—ã–π —Ñ–∞–π–ª:**
- **–§–∞–π–ª:** `test-menu-api.html`
- **–§—É–Ω–∫—Ü–∏—è:** –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API endpoints
- **–î–æ—Å—Ç—É–ø:** `https://fermiy.ru/test-menu-api.html`

#### **üìã –ü—Ä–æ–≤–µ—Ä–∫–∞ API:**
1. **–û—Ç–∫—Ä–æ–π—Ç–µ:** `https://fermiy.ru/test-menu-api.html`
2. **–ù–∞–∂–º–∏—Ç–µ:** "üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –º–µ–Ω—é"
3. **–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** "‚úÖ /api/menu.php —Ä–∞–±–æ—Ç–∞–µ—Ç! üìä –ü–æ–ª—É—á–µ–Ω–æ –±–ª—é–¥: 75"

### üéØ **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö:**

#### **üìÖ –î–Ω–∏ –Ω–µ–¥–µ–ª–∏:**
```json
{
  "day_of_week": "–ü–û–ù–ï–î–ï–õ–¨–ù–ò–ö"  // –í–º–µ—Å—Ç–æ 1
}
```

#### **üí∞ –¶–µ–Ω—ã:**
```json
{
  "price": 150  // –í–º–µ—Å—Ç–æ 0
}
```

#### **üçΩÔ∏è –¢–∏–ø—ã –ø–∏—Ç–∞–Ω–∏—è:**
```json
{
  "meal_type": "–∑–∞–≤—Ç—Ä–∞–∫"  // –û—Å—Ç–∞–µ—Ç—Å—è –∫–∞–∫ –µ—Å—Ç—å
}
```

### üöÄ **–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é:**

**–°—Ç–∞—Ç—É—Å:** ‚úÖ API –ú–ï–ù–Æ –ò–°–ü–†–ê–í–õ–ï–ù
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ‚úÖ 100% –ì–û–¢–û–í–û –ö –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Æ
**–î–∞–Ω–Ω—ã–µ:** ‚úÖ –ë–õ–Æ–î–ê –ó–ê–ì–†–£–ñ–ê–Æ–¢–°–Ø –ö–û–†–†–ï–ö–¢–ù–û
**–§–æ—Ä–º–∞—Ç:** ‚úÖ –î–ù–ò –ù–ï–î–ï–õ–ò –ü–†–ê–í–ò–õ–¨–ù–´–ï

### üìã **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:**

#### **üçΩÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –±–ª—é–¥:**
1. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ —Ä–æ–¥–∏—Ç–µ–ª—å: `parent@school.test` / `password123`
2. –ù–∞–∂–º–∏—Ç–µ "üçΩÔ∏è –ó–∞–∫–∞–∑ –ø–∏—Ç–∞–Ω–∏—è"
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –±–ª—é–¥–∞ –¥–ª—è –≤—Å–µ—Ö –¥–Ω–µ–π
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –ø–æ —Ç–∏–ø–∞–º –ø–∏—Ç–∞–Ω–∏—è

#### **üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ API:**
1. –û—Ç–∫—Ä–æ–π—Ç–µ `https://fermiy.ru/test-menu-api.html`
2. –ù–∞–∂–º–∏—Ç–µ "üîç –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å API –º–µ–Ω—é"
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ API –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç –±–ª—é–¥–∞

---
**–í–µ—Ä—Å–∏—è:** v32.5.0 - Menu API Critical Fix
**–î–∞—Ç–∞:** $(date)
**–°—Ç–∞—Ç—É—Å:** ‚úÖ API –ú–ï–ù–Æ –ü–û–õ–ù–û–°–¢–¨–Æ –ò–°–ü–†–ê–í–õ–ï–ù
**–ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å:** ‚úÖ –ë–õ–Æ–î–ê –û–¢–û–ë–†–ê–ñ–ê–Æ–¢–°–Ø –£ –†–û–î–ò–¢–ï–õ–ï–ô
