# üöÄ RAILWAY DEPLOYMENT GUIDE

## –ü–æ–ª–Ω–æ–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ —Å–∏—Å—Ç–µ–º—ã —à–∫–æ–ª—å–Ω–æ–≥–æ –ø–∏—Ç–∞–Ω–∏—è –Ω–∞ Railway

### ‚úÖ **–ß–¢–û –í–ö–õ–Æ–ß–ï–ù–û:**

1. **Backend API** - Express.js —Å–µ—Ä–≤–µ—Ä —Å –ø–æ–ª–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–æ–º
2. **Frontend** - React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å –º–æ–±–∏–ª—å–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π
3. **Database** - JSON —Ñ–∞–π–ª—ã –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
4. **Authentication** - JWT —Ç–æ–∫–µ–Ω—ã –∏ bcrypt —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ
5. **File Upload** - –ó–∞–≥—Ä—É–∑–∫–∞ Excel —Ñ–∞–π–ª–æ–≤ —Å –º–µ–Ω—é
6. **Security** - Rate limiting, CORS, Helmet
7. **Monitoring** - Health checks –∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

## üöÄ **–ë–´–°–¢–†–û–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï**

### **–í–∞—Ä–∏–∞–Ω—Ç 1: –ß–µ—Ä–µ–∑ Railway CLI**

```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ Railway CLI
npm install -g @railway/cli

# 2. –í–æ–π–¥–∏—Ç–µ –≤ –∞–∫–∫–∞—É–Ω—Ç
railway login

# 3. –°–æ–∑–¥–∞–π—Ç–µ –ø—Ä–æ–µ–∫—Ç
railway project create school-meals-app

# 4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
railway variables set NODE_ENV=production
railway variables set JWT_SECRET=$(openssl rand -base64 32)
railway variables set FRONTEND_URL=https://your-app.railway.app

# 5. –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
railway up
```

### **–í–∞—Ä–∏–∞–Ω—Ç 2: –ß–µ—Ä–µ–∑ Railway Dashboard**

1. **–ü–µ—Ä–µ–π–¥–∏—Ç–µ –Ω–∞ [railway.app](https://railway.app)**
2. **–ù–∞–∂–º–∏—Ç–µ "New Project"**
3. **–í—ã–±–µ—Ä–∏—Ç–µ "Deploy from GitHub repo"**
4. **–ü–æ–¥–∫–ª—é—á–∏—Ç–µ –≤–∞—à —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π**
5. **Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª–∏—Ç –Ω–∞—Å—Ç—Ä–æ–π–∫–∏**

---

## ‚öôÔ∏è **–ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø**

### **–ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:**

```env
NODE_ENV=production
PORT=3000
JWT_SECRET=your-super-secret-jwt-key
FRONTEND_URL=https://your-app.railway.app
```

### **–°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞:**

```
school-meals-app/
‚îú‚îÄ‚îÄ railway-backend/          # Backend API
‚îÇ   ‚îú‚îÄ‚îÄ server.js            # Express —Å–µ—Ä–≤–µ—Ä
‚îÇ   ‚îú‚îÄ‚îÄ package.json         # Backend –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îÇ   ‚îî‚îÄ‚îÄ env.example         # –ü—Ä–∏–º–µ—Ä –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ dist/                    # –°–æ–±—Ä–∞–Ω–Ω—ã–π —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥
‚îú‚îÄ‚îÄ components/              # React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
‚îú‚îÄ‚îÄ railway.json            # Railway –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ Dockerfile              # Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ docker-compose.yml      # Docker Compose
‚îî‚îÄ‚îÄ deploy-railway.sh       # –°–∫—Ä–∏–ø—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è
```

---

## üîß **–§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨**

### **API Endpoints:**

- `GET /api/health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- `POST /api/auth/login` - –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è
- `GET /api/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `POST /api/users` - –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- `GET /api/menu` - –ü–æ–ª—É—á–µ–Ω–∏–µ –º–µ–Ω—é
- `POST /api/menu` - –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –±–ª—é–¥–∞
- `POST /api/menu/upload` - –ó–∞–≥—Ä—É–∑–∫–∞ Excel
- `POST /api/menu/clear` - –û—á–∏—Å—Ç–∫–∞ –º–µ–Ω—é
- `GET /api/orders` - –°–ø–∏—Å–æ–∫ –∑–∞–∫–∞–∑–æ–≤
- `POST /api/orders` - –°–æ–∑–¥–∞–Ω–∏–µ –∑–∞–∫–∞–∑–∞

### **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**

- ‚úÖ **JWT Authentication** - –ë–µ–∑–æ–ø–∞—Å–Ω—ã–µ —Ç–æ–∫–µ–Ω—ã
- ‚úÖ **bcrypt Hashing** - –•–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- ‚úÖ **Rate Limiting** - –ó–∞—â–∏—Ç–∞ –æ—Ç —Å–ø–∞–º–∞
- ‚úÖ **CORS Protection** - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ **Helmet Security** - HTTP –∑–∞–≥–æ–ª–æ–≤–∫–∏
- ‚úÖ **Input Validation** - –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö

---

## üìä **–ú–û–ù–ò–¢–û–†–ò–ù–ì**

### **Health Check:**
```bash
curl https://your-app.railway.app/api/health
```

### **–õ–æ–≥–∏:**
```bash
railway logs
```

### **–ú–µ—Ç—Ä–∏–∫–∏:**
- CPU Usage
- Memory Usage
- Request Count
- Response Time

---

## üöÄ **–ê–í–¢–û–ú–ê–¢–ò–ß–ï–°–ö–û–ï –†–ê–ó–í–ï–†–¢–´–í–ê–ù–ò–ï**

### **GitHub Actions:**

```yaml
name: Deploy to Railway
on:
  push:
    branches: [main]
jobs:
  deploy:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - uses: actions/setup-node@v3
        with:
          node-version: '18'
      - run: npm install
      - run: npm run build
      - uses: railway-app/railway-deploy@v1
        with:
          railway-token: ${{ secrets.RAILWAY_TOKEN }}
```

---

## üîÑ **–û–ë–ù–û–í–õ–ï–ù–ò–ï**

### **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```bash
# –ü—Ä–∏ push –≤ main –≤–µ—Ç–∫—É Railway –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ—Å–æ–±–µ—Ä–µ—Ç –∏ —Ä–∞–∑–≤–µ—Ä–Ω–µ—Ç
git push origin main
```

### **–†—É—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:**
```bash
railway redeploy
```

---

## üõ†Ô∏è **–õ–û–ö–ê–õ–¨–ù–ê–Ø –†–ê–ó–†–ê–ë–û–¢–ö–ê**

### **–ó–∞–ø—É—Å–∫ –ª–æ–∫–∞–ª—å–Ω–æ:**
```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
npm install
cd railway-backend && npm install

# –°–±–æ—Ä–∫–∞ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥–∞
npm run build

# –ó–∞–ø—É—Å–∫ –±—ç–∫–µ–Ω–¥–∞
cd railway-backend && npm start
```

### **Docker:**
```bash
# –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞
docker build -t school-meals-app .

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞
docker run -p 3000:3000 school-meals-app
```

---

## üì± **–ú–û–ë–ò–õ–¨–ù–ê–Ø –û–ü–¢–ò–ú–ò–ó–ê–¶–ò–Ø**

### **–í–∫–ª—é—á–µ–Ω–æ:**
- ‚úÖ **Responsive Design** - –ê–¥–∞–ø—Ç–∏–≤–Ω–∞—è –≤–µ—Ä—Å—Ç–∫–∞
- ‚úÖ **Touch Optimization** - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –¥–ª—è –∫–∞—Å–∞–Ω–∏–π
- ‚úÖ **PWA Ready** - –ì–æ—Ç–æ–≤–Ω–æ—Å—Ç—å –∫ PWA
- ‚úÖ **Fast Loading** - –ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
- ‚úÖ **Offline Support** - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –æ—Ñ–ª–∞–π–Ω

---

## üéØ **–†–ï–ó–£–õ–¨–¢–ê–¢**

### **–ü–æ—Å–ª–µ —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏—è –≤—ã –ø–æ–ª—É—á–∏—Ç–µ:**

1. **üåê –ü–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ**
2. **üì± –ú–æ–±–∏–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é**
3. **üîê –ë–µ–∑–æ–ø–∞—Å–Ω—É—é –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—é**
4. **üìä –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å**
5. **üçΩÔ∏è –°–∏—Å—Ç–µ–º—É –∑–∞–∫–∞–∑–∞ –ø–∏—Ç–∞–Ω–∏—è**
6. **üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫—É**
7. **‚ö° –í—ã—Å–æ–∫—É—é –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å**

### **URL –≤–∞—à–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:**
```
https://your-app-name.railway.app
```

---

## üÜò **–ü–û–î–î–ï–†–ñ–ö–ê**

### **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ–º:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `railway logs`
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ: `railway variables`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ health check: `/api/health`

### **–ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã:**
```bash
railway status          # –°—Ç–∞—Ç—É—Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
railway logs            # –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
railway variables       # –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è
railway redeploy        # –ü–µ—Ä–µ—Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ
```

---

## üéâ **–ì–û–¢–û–í–û!**

**–í–∞—à–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–∞–∑–≤–µ—Ä–Ω—É—Ç–æ –Ω–∞ Railway –∏ –≥–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!**

**–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç:**
- ‚úÖ –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- ‚úÖ –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–µ–Ω—é
- ‚úÖ –°–∏—Å—Ç–µ–º–∞ –∑–∞–∫–∞–∑–æ–≤
- ‚úÖ –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è
- ‚úÖ –ê–¥–º–∏–Ω –ø–∞–Ω–µ–ª—å
- ‚úÖ –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
