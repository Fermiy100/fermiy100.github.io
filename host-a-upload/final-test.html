<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Final Test - School Meals System</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            min-height: 100vh;
        }
        .container {
            background: rgba(255, 255, 255, 0.1);
            padding: 30px;
            border-radius: 15px;
            backdrop-filter: blur(10px);
        }
        button {
            background: linear-gradient(45deg, #FF6B6B, #4ECDC4);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            cursor: pointer;
            font-size: 16px;
            margin: 10px;
            min-height: 44px;
        }
        .status {
            margin: 20px 0;
            padding: 15px;
            border-radius: 8px;
            font-weight: bold;
        }
        .success { background: rgba(76, 175, 80, 0.3); }
        .error { background: rgba(244, 67, 54, 0.3); }
        .info { background: rgba(33, 150, 243, 0.3); }
        .results {
            background: rgba(255, 255, 255, 0.1);
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            max-height: 400px;
            overflow-y: auto;
        }
        .test-section {
            margin: 20px 0;
            padding: 20px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
        }
        .mobile-test {
            display: none;
        }
        @media (max-width: 768px) {
            .mobile-test {
                display: block;
            }
            .desktop-test {
                display: none;
            }
            body {
                padding: 10px;
            }
            .container {
                padding: 15px;
            }
            button {
                width: 100%;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üß™ Final Test - School Meals System</h1>
        <p>–ö–æ–º–ø–ª–µ–∫—Å–Ω–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å–∏—Å—Ç–µ–º—ã</p>
        
        <div class="test-section">
            <h2>üîß Backend Tests</h2>
            <div style="text-align: center;">
                <button onclick="testRailway()">üöÇ Railway Backend</button>
                <button onclick="testFermiy()">üè† Fermiy.ru PHP</button>
                <button onclick="testAllBackends()">üîÑ Test All Backends</button>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üì± Mobile Tests</h2>
            <div class="desktop-test">
                <p>üñ•Ô∏è Desktop View - Switch to mobile to test mobile features</p>
            </div>
            <div class="mobile-test">
                <p>üì± Mobile View Detected!</p>
                <button onclick="testMobileFeatures()">Test Mobile Features</button>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üçΩÔ∏è Menu Tests</h2>
            <div style="text-align: center;">
                <button onclick="testMenuAPI()">Test Menu API</button>
                <button onclick="testMenuDisplay()">Test Menu Display</button>
                <button onclick="testMenuUpload()">Test Menu Upload</button>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üë• User Tests</h2>
            <div style="text-align: center;">
                <button onclick="testUserAPI()">Test User API</button>
                <button onclick="testAuth()">Test Authentication</button>
                <button onclick="testUserManagement()">Test User Management</button>
            </div>
        </div>
        
        <div class="test-section">
            <h2>üé® UI/UX Tests</h2>
            <div style="text-align: center;">
                <button onclick="testResponsiveDesign()">Test Responsive Design</button>
                <button onclick="testButtonSizes()">Test Button Sizes</button>
                <button onclick="testNavigation()">Test Navigation</button>
            </div>
        </div>
        
        <div id="status"></div>
        <div id="results"></div>
    </div>

    <script>
        function showStatus(message, type = 'info') {
            const statusDiv = document.getElementById('status');
            statusDiv.innerHTML = `<div class="status ${type}">${message}</div>`;
        }
        
        function showResults(content) {
            document.getElementById('results').innerHTML = content;
        }
        
        async function testRailway() {
            showStatus('üöÇ –¢–µ—Å—Ç–∏—Ä—É–µ–º Railway Backend...', 'info');
            
            try {
                const response = await fetch('https://fermiy100githubio-production.up.railway.app', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    showStatus(`‚úÖ Railway OK! ${data.message}`, 'success');
                    showResults(`
                        <h3>üöÇ Railway Status:</h3>
                        <div class="results">
                            <p><strong>–°—Ç–∞—Ç—É—Å:</strong> ${data.status}</p>
                            <p><strong>–°–æ–æ–±—â–µ–Ω–∏–µ:</strong> ${data.message}</p>
                            <p><strong>–ë–ª—é–¥:</strong> ${data.dishCount}</p>
                            <p><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</strong> ${data.userCount}</p>
                            <p><strong>–í—Ä–µ–º—è:</strong> ${data.time}</p>
                        </div>
                    `);
                } else {
                    showStatus(`‚ùå Railway Error: ${response.status}`, 'error');
                }
            } catch (error) {
                showStatus(`‚ùå Railway Error: ${error.message}`, 'error');
            }
        }
        
        async function testFermiy() {
            showStatus('üè† –¢–µ—Å—Ç–∏—Ä—É–µ–º Fermiy.ru PHP...', 'info');
            
            try {
                const response = await fetch('https://fermiy.ru/api/auth/me.php', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    showStatus(`‚úÖ Fermiy.ru OK! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${data.user.name}`, 'success');
                    showResults(`
                        <h3>üè† Fermiy.ru Status:</h3>
                        <div class="results">
                            <p><strong>–£—Å–ø–µ—Ö:</strong> ${data.success}</p>
                            <p><strong>ID:</strong> ${data.user.id}</p>
                            <p><strong>Email:</strong> ${data.user.email}</p>
                            <p><strong>–ò–º—è:</strong> ${data.user.name}</p>
                            <p><strong>–†–æ–ª—å:</strong> ${data.user.role}</p>
                        </div>
                    `);
                } else {
                    showStatus(`‚ùå Fermiy.ru Error: ${response.status}`, 'error');
                }
            } catch (error) {
                showStatus(`‚ùå Fermiy.ru Error: ${error.message}`, 'error');
            }
        }
        
        async function testAllBackends() {
            showStatus('üîÑ –¢–µ—Å—Ç–∏—Ä—É–µ–º –≤—Å–µ backend'—ã...', 'info');
            
            const results = [];
            
            // –¢–µ—Å—Ç Railway
            try {
                const railwayResponse = await fetch('https://fermiy100githubio-production.up.railway.app');
                if (railwayResponse.ok) {
                    const data = await railwayResponse.json();
                    results.push(`‚úÖ Railway: ${data.message}`);
                } else {
                    results.push(`‚ùå Railway: ${railwayResponse.status}`);
                }
            } catch (error) {
                results.push(`‚ùå Railway: ${error.message}`);
            }
            
            // –¢–µ—Å—Ç Fermiy.ru
            try {
                const fermiyResponse = await fetch('https://fermiy.ru/api/auth/me.php');
                if (fermiyResponse.ok) {
                    const data = await fermiyResponse.json();
                    results.push(`‚úÖ Fermiy.ru: ${data.user.name}`);
                } else {
                    results.push(`‚ùå Fermiy.ru: ${fermiyResponse.status}`);
                }
            } catch (error) {
                results.push(`‚ùå Fermiy.ru: ${error.message}`);
            }
            
            showStatus('üîÑ –¢–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!', 'info');
            showResults(`
                <h3>üîÑ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤:</h3>
                <div class="results">
                    ${results.map(result => `<p>${result}</p>`).join('')}
                </div>
            `);
        }
        
        function testMobileFeatures() {
            showStatus('üì± –¢–µ—Å—Ç–∏—Ä—É–µ–º –º–æ–±–∏–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏...', 'info');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —ç–∫—Ä–∞–Ω–∞
            const screenWidth = window.innerWidth;
            const screenHeight = window.innerHeight;
            results.push(`üì± –†–∞–∑–º–µ—Ä —ç–∫—Ä–∞–Ω–∞: ${screenWidth}x${screenHeight}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ touch –ø–æ–¥–¥–µ—Ä–∂–∫–∏
            const touchSupport = 'ontouchstart' in window;
            results.push(`üëÜ Touch –ø–æ–¥–¥–µ—Ä–∂–∫–∞: ${touchSupport ? '–î–∞' : '–ù–µ—Ç'}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Ä–∏–µ–Ω—Ç–∞—Ü–∏–∏
            const orientation = screen.orientation ? screen.orientation.type : 'unknown';
            results.push(`üîÑ –û—Ä–∏–µ–Ω—Ç–∞—Ü–∏—è: ${orientation}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ user agent
            const isMobile = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent);
            results.push(`üì± –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ: ${isMobile ? '–î–∞' : '–ù–µ—Ç'}`);
            
            showStatus('üì± –ú–æ–±–∏–ª—å–Ω—ã–π —Ç–µ—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω!', 'success');
            showResults(`
                <h3>üì± –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –º–æ–±–∏–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞:</h3>
                <div class="results">
                    ${results.map(result => `<p>${result}</p>`).join('')}
                </div>
            `);
        }
        
        function testResponsiveDesign() {
            showStatus('üé® –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞–¥–∞–ø—Ç–∏–≤–Ω—ã–π –¥–∏–∑–∞–π–Ω...', 'info');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–æ–≤
            const mediaQueries = [
                { name: 'Mobile', query: '(max-width: 768px)' },
                { name: 'Tablet', query: '(min-width: 769px) and (max-width: 1024px)' },
                { name: 'Desktop', query: '(min-width: 1025px)' }
            ];
            
            mediaQueries.forEach(mq => {
                const matches = window.matchMedia(mq.query).matches;
                results.push(`üì± ${mq.name}: ${matches ? '–ê–∫—Ç–∏–≤–µ–Ω' : '–ù–µ–∞–∫—Ç–∏–≤–µ–Ω'}`);
            });
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ viewport
            const viewport = document.querySelector('meta[name="viewport"]');
            results.push(`üëÅÔ∏è Viewport: ${viewport ? viewport.content : '–ù–µ –Ω–∞–π–¥–µ–Ω'}`);
            
            showStatus('üé® –¢–µ—Å—Ç –∞–¥–∞–ø—Ç–∏–≤–Ω–æ–≥–æ –¥–∏–∑–∞–π–Ω–∞ –∑–∞–≤–µ—Ä—à–µ–Ω!', 'success');
            showResults(`
                <h3>üé® –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –¥–∏–∑–∞–π–Ω–∞:</h3>
                <div class="results">
                    ${results.map(result => `<p>${result}</p>`).join('')}
                </div>
            `);
        }
        
        function testButtonSizes() {
            showStatus('üîò –¢–µ—Å—Ç–∏—Ä—É–µ–º —Ä–∞–∑–º–µ—Ä—ã –∫–Ω–æ–ø–æ–∫...', 'info');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ
            const buttons = document.querySelectorAll('button');
            results.push(`üîò –í—Å–µ–≥–æ –∫–Ω–æ–ø–æ–∫: ${buttons.length}`);
            
            buttons.forEach((button, index) => {
                const rect = button.getBoundingClientRect();
                const minHeight = rect.height >= 44;
                const minWidth = rect.width >= 44;
                results.push(`üîò –ö–Ω–æ–ø–∫–∞ ${index + 1}: ${rect.width}x${rect.height}px (–º–∏–Ω. —Ä–∞–∑–º–µ—Ä: ${minHeight && minWidth ? '‚úÖ' : '‚ùå'})`);
            });
            
            showStatus('üîò –¢–µ—Å—Ç —Ä–∞–∑–º–µ—Ä–æ–≤ –∫–Ω–æ–ø–æ–∫ –∑–∞–≤–µ—Ä—à–µ–Ω!', 'success');
            showResults(`
                <h3>üîò –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –∫–Ω–æ–ø–æ–∫:</h3>
                <div class="results">
                    ${results.map(result => `<p>${result}</p>`).join('')}
                </div>
            `);
        }
        
        function testNavigation() {
            showStatus('üß≠ –¢–µ—Å—Ç–∏—Ä—É–µ–º –Ω–∞–≤–∏–≥–∞—Ü–∏—é...', 'info');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
            const navElements = document.querySelectorAll('nav, .navigation, .director-navigation');
            results.push(`üß≠ –ù–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤: ${navElements.length}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Å—ã–ª–æ–∫
            const links = document.querySelectorAll('a');
            results.push(`üîó –°—Å—ã–ª–æ–∫: ${links.length}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏
            const navButtons = document.querySelectorAll('button[onclick*="setActiveTab"]');
            results.push(`üîò –ö–Ω–æ–ø–æ–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏: ${navButtons.length}`);
            
            showStatus('üß≠ –¢–µ—Å—Ç –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∑–∞–≤–µ—Ä—à–µ–Ω!', 'success');
            showResults(`
                <h3>üß≠ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏:</h3>
                <div class="results">
                    ${results.map(result => `<p>${result}</p>`).join('')}
                </div>
            `);
        }
        
        async function testMenuAPI() {
            showStatus('üçΩÔ∏è –¢–µ—Å—Ç–∏—Ä—É–µ–º Menu API...', 'info');
            
            try {
                const response = await fetch('https://fermiy.ru/api/menu.php', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    showStatus(`‚úÖ Menu API OK! –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${data.items.length} –±–ª—é–¥`, 'success');
                    showResults(`
                        <h3>üçΩÔ∏è Menu API Response:</h3>
                        <div class="results">
                            <p><strong>–í—Å–µ–≥–æ –±–ª—é–¥:</strong> ${data.items.length}</p>
                            <p><strong>–ù–µ–¥–µ–ª—è:</strong> ${data.weekStart}</p>
                            <p><strong>–ó–∞–≥–æ–ª–æ–≤–æ–∫:</strong> ${data.title}</p>
                        </div>
                    `);
                } else {
                    showStatus(`‚ùå Menu API Error: ${response.status}`, 'error');
                }
            } catch (error) {
                showStatus(`‚ùå Menu API Error: ${error.message}`, 'error');
            }
        }
        
        function testMenuDisplay() {
            showStatus('üçΩÔ∏è –¢–µ—Å—Ç–∏—Ä—É–µ–º –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –º–µ–Ω—é...', 'info');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –º–µ–Ω—é
            const menuItems = document.querySelectorAll('.menu-item, .menu-item-card');
            results.push(`üçΩÔ∏è –≠–ª–µ–º–µ–Ω—Ç–æ–≤ –º–µ–Ω—é –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ: ${menuItems.length}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ç–∫–∏ –º–µ–Ω—é
            const menuGrid = document.querySelector('.menu-grid, .items-grid');
            if (menuGrid) {
                const gridStyle = window.getComputedStyle(menuGrid);
                results.push(`üìê –°–µ—Ç–∫–∞ –º–µ–Ω—é: ${gridStyle.display}`);
            }
            
            showStatus('üçΩÔ∏è –¢–µ—Å—Ç –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –º–µ–Ω—é –∑–∞–≤–µ—Ä—à–µ–Ω!', 'success');
            showResults(`
                <h3>üçΩÔ∏è –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –º–µ–Ω—é:</h3>
                <div class="results">
                    ${results.map(result => `<p>${result}</p>`).join('')}
                </div>
            `);
        }
        
        function testMenuUpload() {
            showStatus('üì§ –¢–µ—Å—Ç–∏—Ä—É–µ–º –∑–∞–≥—Ä—É–∑–∫—É –º–µ–Ω—é...', 'info');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ñ–æ—Ä–º—ã –∑–∞–≥—Ä—É–∑–∫–∏
            const uploadForm = document.querySelector('input[type="file"]');
            if (uploadForm) {
                results.push(`üì§ –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏: –ù–∞–π–¥–µ–Ω–∞`);
                results.push(`üì§ –ü—Ä–∏–Ω–∏–º–∞–µ–º—ã–µ —Ç–∏–ø—ã: ${uploadForm.accept || '–í—Å–µ'}`);
            } else {
                results.push(`üì§ –§–æ—Ä–º–∞ –∑–∞–≥—Ä—É–∑–∫–∏: –ù–µ –Ω–∞–π–¥–µ–Ω–∞`);
            }
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–∫–∏ –∑–∞–≥—Ä—É–∑–∫–∏
            const uploadButton = document.querySelector('button[onclick*="upload"]');
            if (uploadButton) {
                results.push(`üîò –ö–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: –ù–∞–π–¥–µ–Ω–∞`);
            } else {
                results.push(`üîò –ö–Ω–æ–ø–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏: –ù–µ –Ω–∞–π–¥–µ–Ω–∞`);
            }
            
            showStatus('üì§ –¢–µ—Å—Ç –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é –∑–∞–≤–µ—Ä—à–µ–Ω!', 'success');
            showResults(`
                <h3>üì§ –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ –∑–∞–≥—Ä—É–∑–∫–∏:</h3>
                <div class="results">
                    ${results.map(result => `<p>${result}</p>`).join('')}
                </div>
            `);
        }
        
        async function testUserAPI() {
            showStatus('üë• –¢–µ—Å—Ç–∏—Ä—É–µ–º User API...', 'info');
            
            try {
                const response = await fetch('https://fermiy.ru/api/users.php', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    showStatus(`‚úÖ User API OK! –ó–∞–≥—Ä—É–∂–µ–Ω–æ ${data.length} –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π`, 'success');
                    showResults(`
                        <h3>üë• User API Response:</h3>
                        <div class="results">
                            <p><strong>–í—Å–µ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:</strong> ${data.length}</p>
                            <p><strong>–ü–µ—Ä–≤—ã–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> ${data[0]?.name || '–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö'}</p>
                        </div>
                    `);
                } else {
                    showStatus(`‚ùå User API Error: ${response.status}`, 'error');
                }
            } catch (error) {
                showStatus(`‚ùå User API Error: ${error.message}`, 'error');
            }
        }
        
        async function testAuth() {
            showStatus('üîê –¢–µ—Å—Ç–∏—Ä—É–µ–º –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é...', 'info');
            
            try {
                const response = await fetch('https://fermiy.ru/api/auth/me.php', {
                    method: 'GET',
                    headers: {
                        'Accept': 'application/json',
                        'Content-Type': 'application/json'
                    }
                });
                
                if (response.ok) {
                    const data = await response.json();
                    showStatus(`‚úÖ Auth OK! –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å: ${data.user.name}`, 'success');
                    showResults(`
                        <h3>üîê Auth Response:</h3>
                        <div class="results">
                            <p><strong>–£—Å–ø–µ—Ö:</strong> ${data.success}</p>
                            <p><strong>–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å:</strong> ${data.user.name}</p>
                            <p><strong>–†–æ–ª—å:</strong> ${data.user.role}</p>
                            <p><strong>–í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω:</strong> ${data.user.verified ? '–î–∞' : '–ù–µ—Ç'}</p>
                        </div>
                    `);
                } else {
                    showStatus(`‚ùå Auth Error: ${response.status}`, 'error');
                }
            } catch (error) {
                showStatus(`‚ùå Auth Error: ${error.message}`, 'error');
            }
        }
        
        function testUserManagement() {
            showStatus('üë• –¢–µ—Å—Ç–∏—Ä—É–µ–º —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏...', 'info');
            
            const results = [];
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏
            const userElements = document.querySelectorAll('.user-management, .user-item');
            results.push(`üë• –≠–ª–µ–º–µ–Ω—Ç–æ–≤ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏: ${userElements.length}`);
            
            // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è
            const userButtons = document.querySelectorAll('button[onclick*="user"], button[onclick*="User"]');
            results.push(`üîò –ö–Ω–æ–ø–æ–∫ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏: ${userButtons.length}`);
            
            showStatus('üë• –¢–µ—Å—Ç —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏ –∑–∞–≤–µ—Ä—à–µ–Ω!', 'success');
            showResults(`
                <h3>üë• –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ç–µ—Å—Ç–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º–∏:</h3>
                <div class="results">
                    ${results.map(result => `<p>${result}</p>`).join('')}
                </div>
            `);
        }
        
        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ç–µ—Å—Ç–∏—Ä—É–µ–º –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.onload = function() {
            // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–∏–ø —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
            const isMobile = window.innerWidth <= 768;
            if (isMobile) {
                showStatus('üì± –ú–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ!', 'info');
            } else {
                showStatus('üñ•Ô∏è Desktop —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–æ!', 'info');
            }
            
            // –ó–∞–ø—É—Å–∫–∞–µ–º –±–∞–∑–æ–≤—ã–µ —Ç–µ—Å—Ç—ã
            setTimeout(() => {
                testAllBackends();
            }, 1000);
        };
    </script>
</body>
</html>