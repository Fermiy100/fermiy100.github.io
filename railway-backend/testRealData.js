/**
 * Ğ¢Ğ•Ğ¡Ğ¢ Ğ¡ Ğ Ğ•ĞĞ›Ğ¬ĞĞ«ĞœĞ˜ Ğ”ĞĞĞĞ«ĞœĞ˜
 */

import { UltimateMenuParser } from './ultimateMenuParser.js';

// Ğ ĞµĞ°Ğ»ÑŒĞ½Ñ‹Ğµ Ğ´Ğ°Ğ½Ğ½Ñ‹Ğµ Ğ¸Ğ· Excel Ñ„Ğ°Ğ¹Ğ»Ğ°
const realData = [
  ['', 'ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº', 'Ğ’Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº', 'Ğ¡Ñ€ĞµĞ´Ğ°', 'Ğ§ĞµÑ‚Ğ²ĞµÑ€Ğ³', 'ĞŸÑÑ‚Ğ½Ğ¸Ñ†Ğ°'],
  ['Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ°Ğº', 'Ğ“Ñ€ĞµÑ‡Ğ½ĞµĞ²Ğ°Ñ ĞºĞ°ÑˆĞ° Ñ Ğ¼Ğ°ÑĞ»Ğ¾Ğ¼', 'ĞĞ²ÑÑĞ½Ğ°Ñ ĞºĞ°ÑˆĞ°', 'ĞœĞ°Ğ½Ğ½Ğ°Ñ ĞºĞ°ÑˆĞ°', 'Ğ Ğ¸ÑĞ¾Ğ²Ğ°Ñ ĞºĞ°ÑˆĞ°', 'ĞŸÑˆĞµĞ½Ğ½Ğ°Ñ ĞºĞ°ÑˆĞ°'],
  ['', '80 Ñ€ÑƒĞ±', '70 Ñ€ÑƒĞ±', '60 Ñ€ÑƒĞ±', '75 Ñ€ÑƒĞ±', '65 Ñ€ÑƒĞ±'],
  ['ĞĞ±ĞµĞ´', 'Ğ‘Ğ¾Ñ€Ñ‰ Ñ Ğ¼ÑÑĞ¾Ğ¼', 'Ğ¡ÑƒĞ¿ ĞºÑƒÑ€Ğ¸Ğ½Ñ‹Ğ¹', 'Ğ©Ğ¸ Ğ¸Ğ· ÑĞ²ĞµĞ¶ĞµĞ¹ ĞºĞ°Ğ¿ÑƒÑÑ‚Ñ‹', 'Ğ‘Ğ¾Ñ€Ñ‰ ÑƒĞºÑ€Ğ°Ğ¸Ğ½ÑĞºĞ¸Ğ¹', 'Ğ¡Ğ¾Ğ»ÑĞ½ĞºĞ° Ğ¼ÑÑĞ½Ğ°Ñ'],
  ['', '120 Ñ€ÑƒĞ±', '100 Ñ€ÑƒĞ±', '110 Ñ€ÑƒĞ±', '120 Ñ€ÑƒĞ±', '130 Ñ€ÑƒĞ±'],
  ['', 'ĞšĞ¾Ñ‚Ğ»ĞµÑ‚Ğ° Ğ¿Ğ¾-ĞºĞ¸ĞµĞ²ÑĞºĞ¸', 'Ğ Ñ‹Ğ±Ğ° Ğ¶Ğ°Ñ€ĞµĞ½Ğ°Ñ', 'ĞœÑÑĞ¾ Ñ‚ÑƒÑˆĞµĞ½Ğ¾Ğµ', 'ĞšÑƒÑ€Ğ¸Ñ†Ğ° Ğ·Ğ°Ğ¿ĞµÑ‡ĞµĞ½Ğ½Ğ°Ñ', 'Ğ“Ğ¾Ğ²ÑĞ´Ğ¸Ğ½Ğ° Ğ¾Ñ‚Ğ²Ğ°Ñ€Ğ½Ğ°Ñ'],
  ['', '150 Ñ€ÑƒĞ±', '140 Ñ€ÑƒĞ±', '160 Ñ€ÑƒĞ±', '155 Ñ€ÑƒĞ±', '170 Ñ€ÑƒĞ±'],
  ['ĞŸĞ¾Ğ»Ğ´Ğ½Ğ¸Ğº', 'ĞŸĞµÑ‡ĞµĞ½ÑŒĞµ', 'Ğ™Ğ¾Ğ³ÑƒÑ€Ñ‚', 'Ğ¤Ñ€ÑƒĞºÑ‚', 'ĞšĞµÑ„Ğ¸Ñ€', 'Ğ¢Ğ²Ğ¾Ñ€Ğ¾Ğ³'],
  ['', '30 Ñ€ÑƒĞ±', '40 Ñ€ÑƒĞ±', '25 Ñ€ÑƒĞ±', '35 Ñ€ÑƒĞ±', '45 Ñ€ÑƒĞ±'],
  ['Ğ£Ğ¶Ğ¸Ğ½', 'ĞšĞ°Ñ€Ñ‚Ğ¾Ñ„ĞµĞ»ÑŒĞ½Ğ¾Ğµ Ğ¿ÑÑ€Ğµ', 'ĞœĞ°ĞºĞ°Ñ€Ğ¾Ğ½Ñ‹', 'Ğ“Ñ€ĞµÑ‡ĞºĞ°', 'Ğ Ğ¸Ñ Ğ¾Ñ‚Ğ²Ğ°Ñ€Ğ½Ğ¾Ğ¹', 'ĞšĞ°Ñ€Ñ‚Ğ¾Ñ„ĞµĞ»ÑŒ Ğ¶Ğ°Ñ€ĞµĞ½Ñ‹Ğ¹'],
  ['', '90 Ñ€ÑƒĞ±', '85 Ñ€ÑƒĞ±', '80 Ñ€ÑƒĞ±', '75 Ñ€ÑƒĞ±', '95 Ñ€ÑƒĞ±']
];

console.log('ğŸ§ª Ğ¢Ğ•Ğ¡Ğ¢Ğ˜Ğ Ğ£Ğ® Ğ¡ Ğ Ğ•ĞĞ›Ğ¬ĞĞ«ĞœĞ˜ Ğ”ĞĞĞĞ«ĞœĞ˜...\n');

try {
  const parser = new UltimateMenuParser();
  
  // Ğ¢ĞµÑÑ‚Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¿Ğ°Ñ€ÑĞ¸Ğ½Ğ³
  const result = parser.parseMenuData(realData);
  
  console.log('âœ… Ğ Ğ•Ğ—Ğ£Ğ›Ğ¬Ğ¢ĞĞ¢ ĞŸĞĞ Ğ¡Ğ˜ĞĞ“Ğ:');
  console.log(`ğŸ“Š Ğ’ÑĞµĞ³Ğ¾ Ğ±Ğ»ÑĞ´: ${result.totalItems}`);
  console.log(`ğŸ’¬ Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµĞ½Ğ¸Ğµ: ${result.message}`);
  
  if (result.errors && result.errors.length > 0) {
    console.log('âŒ ĞÑˆĞ¸Ğ±ĞºĞ¸:');
    result.errors.forEach(error => console.log(`   - ${error}`));
  }
  
  if (result.warnings && result.warnings.length > 0) {
    console.log('âš ï¸ ĞŸÑ€ĞµĞ´ÑƒĞ¿Ñ€ĞµĞ¶Ğ´ĞµĞ½Ğ¸Ñ:');
    result.warnings.forEach(warning => console.log(`   - ${warning}`));
  }
  
  console.log('\nğŸ½ï¸ ĞĞĞ™Ğ”Ğ•ĞĞĞ«Ğ• Ğ‘Ğ›Ğ®Ğ”Ğ:');
  result.items.forEach((item, index) => {
    console.log(`${index + 1}. ${item.name}`);
    console.log(`   ğŸ’° Ğ¦ĞµĞ½Ğ°: ${item.price}â‚½`);
    console.log(`   ğŸ“ ĞŸĞ¾Ñ€Ñ†Ğ¸Ñ: ${item.portion}`);
    console.log(`   ğŸ“… Ğ”ĞµĞ½ÑŒ: ${item.day_of_week}`);
    console.log(`   ğŸ½ï¸ Ğ¢Ğ¸Ğ¿: ${item.meal_type}`);
    console.log('');
  });
  
  // Ğ“Ñ€ÑƒĞ¿Ğ¿Ğ¸Ñ€ÑƒĞµĞ¼ Ğ¿Ğ¾ Ğ´Ğ½ÑĞ¼ Ğ½ĞµĞ´ĞµĞ»Ğ¸
  console.log('\nğŸ“… Ğ“Ğ Ğ£ĞŸĞŸĞ˜Ğ ĞĞ’ĞšĞ ĞŸĞ Ğ”ĞĞ¯Ğœ:');
  const groupedByDay = {};
  result.items.forEach(item => {
    if (!groupedByDay[item.day_of_week]) {
      groupedByDay[item.day_of_week] = [];
    }
    groupedByDay[item.day_of_week].push(item);
  });
  
  Object.keys(groupedByDay).forEach(day => {
    const dayNames = ['', 'ĞŸĞ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº', 'Ğ’Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº', 'Ğ¡Ñ€ĞµĞ´Ğ°', 'Ğ§ĞµÑ‚Ğ²ĞµÑ€Ğ³', 'ĞŸÑÑ‚Ğ½Ğ¸Ñ†Ğ°'];
    console.log(`\n${dayNames[day]}:`);
    groupedByDay[day].forEach(item => {
      console.log(`  - ${item.name} (${item.meal_type}) - ${item.price}â‚½`);
    });
  });
  
  console.log('\nğŸ‰ Ğ¢Ğ•Ğ¡Ğ¢ Ğ¡ Ğ Ğ•ĞĞ›Ğ¬ĞĞ«ĞœĞ˜ Ğ”ĞĞĞĞ«ĞœĞ˜ Ğ—ĞĞ’Ğ•Ğ Ğ¨Ğ•Ğ!');
  
} catch (error) {
  console.error('âŒ ĞĞ¨Ğ˜Ğ‘ĞšĞ Ğ¢Ğ•Ğ¡Ğ¢Ğ:', error.message);
  console.error(error.stack);
}
